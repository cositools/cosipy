author: Hiroki Yoneda 
date: 2024-06-12    # Modified by Anaya to include deconvolution:parameter:numproc on 2024-08-23

model_definition:
  class: "AllSkyImage"

  property:
    coordinate: "galactic"
    nside: 16
    scheme: "ring"
    energy_edges: # shoud be the same as the response matrix
      value: [509.0, 513.0]
      unit: "keV"
    unit: "cm-2 s-1 sr-1" # do not change it as for now

  initialization:
    algorithm: "flat" # more methods, e.g., simple-backprojection, user-defined, would be implemented.
    parameter:
      value: [1e-4] #the number of these values should be the same as "the number of energy_edges - 1".
      unit: "cm-2 s-1 sr-1"  # do not change it as for now

deconvolution:
  algorithm: "RLparallel"     # Choose from RL, RLsimple and RLparallel

  parameter:
    iteration_max: 10
    acceleration: True
    alpha_max: 10.0
    response_weighting: True
    response_weighting_index: 0.5
    smoothing: True
    smoothing_FWHM:
      value: 2.0
      unit: "deg"
    background_normalization_optimization: True
    background_normalization_range: {"total": [0.01, 10.0]}
    save_results: True
    save_results_directory: "./results"   # Relative file path
    numproc: 6              # Number of MPI threads to spawn. Limited by number of nodes available. Only applicable for algorithm: "RLparallel"